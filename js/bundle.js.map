{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","firstLoad","showShareMessage","urlField","$","btnCheck","btnAdd","windowWidth","window","width","responsiveFlow","init","parseUrl","resizeFunction","buttonCheck","buttonAdd","buttonGoToTop","click","url","val","indexOf","validateUrl","generateIframes","addClass","setTimeout","removeClass","alert","x","y","result","validateNewResolution","addCheckBox","search","location","hash","substring","split","size","values","res","inf","push","sizeRes","html","value","w","h","decodeURIComponent","answer","confirm","test","elem","append","getResolutions","resolutionsObj","Array","each","d","this","find","is","item","Object","text","posinitial","obj","strUrl","encodeURIComponent","fadeOut","tmp","templateIframe","sizex","Number","replace","document","fadeIn","timeout","resize","clearTimeout","scroll","scrollTop","tooltip","animate"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n// import {  } from './modules/.js';\n\n// let $ = document.querySelector.bind(document);\n\n;(function () {\n\n    //control variables\n    var firstLoad = true;\n    var showShareMessage = true;\n\n    //elements\n    var urlField = $('.url-field');\n    var btnCheck = $('.btn-check');\n    var btnAdd = $('.btn-add');\n\n    //element attributes\n    var windowWidth = $(window).width();\n\n    $(function () {\n\n        //INITIALIZE APPLICACTION\n        responsiveFlow.init();\n    });\n\n    var responsiveFlow = {\n        init: function init() {\n\n            //check if have something on url\n            responsiveFlow.parseUrl();\n\n            //initialize resize function\n            responsiveFlow.resizeFunction();\n\n            //call button \"check it out\"\n            responsiveFlow.buttonCheck();\n\n            //call button \"add new resolution\"\n            responsiveFlow.buttonAdd();\n\n            //call button \"go to top\"\n            responsiveFlow.buttonGoToTop();\n        },\n        buttonCheck: function buttonCheck() {\n            btnCheck.click(function () {\n                var url = urlField.val();\n\n                //verify https no more http - url.indexOf('http://')!=-1 ||\n                if (url.indexOf('https://') != -1) {\n                    //verify if its valid\n                    if (responsiveFlow.validateUrl(url)) {\n                        //generate iframes\n                        responsiveFlow.generateIframes(url);\n\n                        //Toggle animate\n                        $('.app-header h1 img').addClass('image-animated');\n                        setTimeout(function () {\n                            $('.app-header h1 img').removeClass('image-animated');\n                        }, 1000);\n                    } else {\n                        alert(\"Please enter a valid url\");\n                    }\n                } else {\n                    alert(\"Please add https on your url\");\n                }\n            });\n        },\n        buttonAdd: function buttonAdd() {\n            btnAdd.click(function () {\n                var x = $('.new-resolution-1').val();\n                var y = $('.new-resolution-2').val();\n                var result = responsiveFlow.validateNewResolution(x, y);\n                if (result) {\n                    responsiveFlow.addCheckBox(x, y);\n                    $('.new-resolution-1, .new-resolution-2').val(\"\");\n                }\n            });\n        },\n        parseUrl: function parseUrl() {\n            //http://localhost:9000/#url=http%3A%2F%2Fpudim.com.br&res=1300x768&res=1024x768&res=640x768&res=320x480\n            var search = window.location.hash.substring(1); //url=minhaurl&res=1230x1230&res=12x12&res=30x30\n            if (search != \"\") {\n                search = search.split('&');\n                var size = search.length;\n                var values = {};\n                values.res = [];\n                for (var x = 0; x < size; x++) {\n                    var inf = search[x].split('=');\n                    if (inf[0] == \"res\") {\n                        //insert in res\n                        values.res.push(inf[1]);\n                    } else {\n                        //create na new index and attribute the valeu\n                        values[inf[0]] = inf[1];\n                    }\n                }\n                var sizeRes = values.res.length;\n                //verify if have data to generate iframes\n                if (values.res.length >= 1 && values.url != \"\") {\n                    //generate resulutions by url\n                    $('.checkbox-list').html(\"\");\n                    for (var y = 0; y < sizeRes; y++) {\n                        var value = values.res[y].split(\"x\");\n                        var w = value[0];\n                        var h = value[1];\n                        responsiveFlow.addCheckBox(w, h);\n                    }\n                    var url = decodeURIComponent(values.url);\n                    urlField.val(url);\n\n                    if (responsiveFlow.validateUrl(url)) {\n                        //generate iframes\n                        responsiveFlow.generateIframes(url);\n\n                        //Toggle animate\n                        $('.app-header h1 img').addClass('image-animated');\n                        setTimeout(function () {\n                            $('.app-header h1 img').removeClass('image-animated');\n                        }, 1000);\n                    }\n                }\n                // console.log(JSON.stringify(values));\n            }\n        },\n        validateNewResolution: function validateNewResolution(x, y) {\n            if (x == \"\" || y == \"\") {\n                alert(\"Please fill all fields. Mare sure insert only numbers\");\n                return false;\n            } else if (x < 0 || y < 0) {\n                alert(\"Please put positive values\");\n                return false;\n            } else if (x < 280) {\n                alert(\"The minimum width is 280px\");\n                return false;\n            } else if (y < 100) {\n                alert(\"The minimum height is 180px\");\n                return false;\n            } else if (x >= windowWidth) {\n                var answer = confirm(\"Do you really want to add a resolution highter than your screen? This can prejudicate the visualization!\");\n                return answer;\n            } else {\n                return true;\n            }\n        },\n        validateUrl: function validateUrl(url) {\n            return (/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(url)\n            );\n        },\n        addCheckBox: function addCheckBox(x, y) {\n            var elem = \"<label class='checkbox-inline'><input id='inlineCheckbox1' value='\" + x + \"x\" + y + \"' checked='true' type='checkbox'>\" + x + \" x \" + y + \"</label>\";\n            $('.checkbox-list').append(elem);\n        },\n        getResolutions: function getResolutions() {\n            var resolutionsObj = new Array();\n\n            $('.checkbox-list label').each(function (i, d) {\n                //:checked\n                if ($(this).find('input[type=checkbox]').is(':checked')) {\n                    var item = new Object();\n                    var val = $(this).find('input').val();\n                    val = val.split('x');\n\n                    item.value = $(this).text();\n                    item.x = val[0];\n                    item.y = val[1];\n                    item.posinitial = i;\n\n                    resolutionsObj.push(item);\n                }\n            });\n            return resolutionsObj;\n        },\n        generateIframes: function generateIframes(url) {\n            var obj = responsiveFlow.getResolutions();\n            var strUrl = \"\";\n            strUrl += \"url=\" + encodeURIComponent(url);\n            $('.all-resolutions').fadeOut(\"slow\", function (e) {\n                //clean\n                $(this).html(\"\");\n                //generate\n                var size = obj.length;\n                for (var x = 0; x < size; x++) {\n                    var tmp = responsiveFlow.templateIframe();\n                    var sizex = Number(obj[x].x) + 2;\n                    tmp = tmp.replace(\"#valx\", sizex);\n                    tmp = tmp.replace(\"#valx\", obj[x].x);\n                    tmp = tmp.replace(\"#valy\", obj[x].y);\n                    tmp = tmp.replace(\"#valurl\", url);\n                    tmp = tmp.replace(\"#text\", obj[x].value);\n                    tmp = tmp.replace(\"#text\", obj[x].value);\n                    tmp = tmp.replace(\"#id-panel\", \"panel-iframe-\" + x);\n                    $('.all-resolutions').append(tmp);\n                    //increments url\n                    strUrl += \"&res=\" + obj[x].x + \"x\" + obj[x].y;\n                }\n\n                //Check if is the first access and if the user came from a shared link\n                if (document.location.hash != \"\" && firstLoad == true) {\n                    showShareMessage = false;\n                    firstLoad = false;\n                } else {\n                    showShareMessage = true;\n                }\n\n                if (showShareMessage) {\n                    alert(\"Send the url to someone to share your results :)\");\n                }\n\n                //update url\n                document.location.hash = strUrl;\n            }).fadeIn();\n        },\n        templateIframe: function templateIframe() {\n            return \"<div style='max-width: #valxpx' class='panel panel-default resolution' id='#id-panel'><div class='panel-heading text-right'><h3 class='panel-title'>#text</h3></div><div class='panel-body'><iframe src='#valurl' width='#valxpx' height='#valypx' frameborder='0'><p>Your browser does not support iframes.</p></iframe></div><div class='panel-footer'><h3 class='panel-title'>#text</h3></div></div\";\n        },\n        resizeFunction: function resizeFunction() {\n            var timeout;\n            $(window).resize(function () {\n                clearTimeout(timeout);\n                timeout = setTimeout(function () {\n                    windowWidth = $(window).width();\n                }, 300);\n            });\n        },\n        buttonGoToTop: function buttonGoToTop() {\n            $(window).scroll(function () {\n                if ($(this).scrollTop() > 50) {\n                    $('#back-to-top').fadeIn();\n                } else {\n                    $('#back-to-top').fadeOut();\n                }\n            });\n            $('#back-to-top').click(function () {\n                $('#back-to-top').tooltip('hide');\n                $('body,html').animate({\n                    scrollTop: 0\n                }, 800);\n                return false;\n            });\n            $('#back-to-top').tooltip('show');\n        }\n    };\n})();\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXNzZXRzL2pzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOztBQUVBOztBQUVBLENBQUUsYUFBVTs7QUFFUjtBQUNBLFFBQUksWUFBWSxJQUFoQjtBQUNBLFFBQUksbUJBQW1CLElBQXZCOztBQUVBO0FBQ0EsUUFBSSxXQUFXLEVBQUUsWUFBRixDQUFmO0FBQ0EsUUFBSSxXQUFXLEVBQUUsWUFBRixDQUFmO0FBQ0EsUUFBSSxTQUFTLEVBQUUsVUFBRixDQUFiOztBQUVBO0FBQ0EsUUFBSSxjQUFjLEVBQUUsTUFBRixFQUFVLEtBQVYsRUFBbEI7O0FBR0EsTUFBRSxZQUFXOztBQUVUO0FBQ0EsdUJBQWUsSUFBZjtBQUVILEtBTEQ7O0FBT0EsUUFBSSxpQkFBaUI7QUFDakIsY0FBTSxnQkFBVTs7QUFFWjtBQUNBLDJCQUFlLFFBQWY7O0FBRUE7QUFDQSwyQkFBZSxjQUFmOztBQUVBO0FBQ0EsMkJBQWUsV0FBZjs7QUFFQTtBQUNBLDJCQUFlLFNBQWY7O0FBRUE7QUFDQSwyQkFBZSxhQUFmO0FBRUgsU0FsQmdCO0FBbUJqQixxQkFBYSx1QkFBVTtBQUNuQixxQkFBUyxLQUFULENBQWUsWUFBVTtBQUNyQixvQkFBSSxNQUFNLFNBQVMsR0FBVCxFQUFWOztBQUVBO0FBQ0Esb0JBQUcsSUFBSSxPQUFKLENBQVksVUFBWixLQUF5QixDQUFDLENBQTdCLEVBQStCO0FBQzNCO0FBQ0Esd0JBQUcsZUFBZSxXQUFmLENBQTJCLEdBQTNCLENBQUgsRUFBbUM7QUFDL0I7QUFDQSx1Q0FBZSxlQUFmLENBQStCLEdBQS9COztBQUVBO0FBQ0EsMEJBQUUsb0JBQUYsRUFBd0IsUUFBeEIsQ0FBaUMsZ0JBQWpDO0FBQ0EsbUNBQVcsWUFBVTtBQUNqQiw4QkFBRSxvQkFBRixFQUF3QixXQUF4QixDQUFvQyxnQkFBcEM7QUFDSCx5QkFGRCxFQUVFLElBRkY7QUFJSCxxQkFWRCxNQVVLO0FBQ0QsOEJBQU0sMEJBQU47QUFDSDtBQUNKLGlCQWZELE1BZUs7QUFDRCwwQkFBTSw4QkFBTjtBQUNIO0FBQ0osYUF0QkQ7QUF1QkgsU0EzQ2dCO0FBNENqQixtQkFBVyxxQkFBVTtBQUNqQixtQkFBTyxLQUFQLENBQWEsWUFBVTtBQUNuQixvQkFBSSxJQUFJLEVBQUUsbUJBQUYsRUFBdUIsR0FBdkIsRUFBUjtBQUNBLG9CQUFJLElBQUksRUFBRSxtQkFBRixFQUF1QixHQUF2QixFQUFSO0FBQ0Esb0JBQUksU0FBUyxlQUFlLHFCQUFmLENBQXFDLENBQXJDLEVBQXVDLENBQXZDLENBQWI7QUFDQSxvQkFBRyxNQUFILEVBQVU7QUFDTixtQ0FBZSxXQUFmLENBQTJCLENBQTNCLEVBQTZCLENBQTdCO0FBQ0Esc0JBQUUsc0NBQUYsRUFBMEMsR0FBMUMsQ0FBOEMsRUFBOUM7QUFDSDtBQUNKLGFBUkQ7QUFTSCxTQXREZ0I7QUF1RGpCLGtCQUFVLG9CQUFVO0FBQ2hCO0FBQ0EsZ0JBQUksU0FBVSxPQUFPLFFBQVAsQ0FBZ0IsSUFBaEIsQ0FBcUIsU0FBckIsQ0FBK0IsQ0FBL0IsQ0FBZCxDQUZnQixDQUVpQztBQUNqRCxnQkFBRyxVQUFRLEVBQVgsRUFBYztBQUNWLHlCQUFTLE9BQU8sS0FBUCxDQUFhLEdBQWIsQ0FBVDtBQUNBLG9CQUFJLE9BQU8sT0FBTyxNQUFsQjtBQUNBLG9CQUFJLFNBQVMsRUFBYjtBQUNBLHVCQUFPLEdBQVAsR0FBYSxFQUFiO0FBQ0EscUJBQUksSUFBSSxJQUFFLENBQVYsRUFBWSxJQUFFLElBQWQsRUFBbUIsR0FBbkIsRUFBdUI7QUFDbkIsd0JBQUksTUFBTSxPQUFPLENBQVAsRUFBVSxLQUFWLENBQWdCLEdBQWhCLENBQVY7QUFDQSx3QkFBRyxJQUFJLENBQUosS0FBUSxLQUFYLEVBQWlCO0FBQ2I7QUFDQSwrQkFBTyxHQUFQLENBQVcsSUFBWCxDQUFnQixJQUFJLENBQUosQ0FBaEI7QUFDSCxxQkFIRCxNQUdLO0FBQ0Q7QUFDQSwrQkFBTyxJQUFJLENBQUosQ0FBUCxJQUFpQixJQUFJLENBQUosQ0FBakI7QUFDSDtBQUNKO0FBQ0Qsb0JBQUksVUFBVSxPQUFPLEdBQVAsQ0FBVyxNQUF6QjtBQUNBO0FBQ0Esb0JBQUksT0FBTyxHQUFQLENBQVcsTUFBWixJQUFxQixDQUFyQixJQUEyQixPQUFPLEdBQVIsSUFBYyxFQUEzQyxFQUE4QztBQUMxQztBQUNBLHNCQUFFLGdCQUFGLEVBQW9CLElBQXBCLENBQXlCLEVBQXpCO0FBQ0EseUJBQUksSUFBSSxJQUFFLENBQVYsRUFBWSxJQUFFLE9BQWQsRUFBc0IsR0FBdEIsRUFBMEI7QUFDdEIsNEJBQUksUUFBUyxPQUFPLEdBQVAsQ0FBVyxDQUFYLENBQUQsQ0FBZ0IsS0FBaEIsQ0FBc0IsR0FBdEIsQ0FBWjtBQUNBLDRCQUFJLElBQUksTUFBTSxDQUFOLENBQVI7QUFDQSw0QkFBSSxJQUFJLE1BQU0sQ0FBTixDQUFSO0FBQ0EsdUNBQWUsV0FBZixDQUEyQixDQUEzQixFQUE2QixDQUE3QjtBQUNIO0FBQ0Qsd0JBQUksTUFBTSxtQkFBbUIsT0FBTyxHQUExQixDQUFWO0FBQ0EsNkJBQVMsR0FBVCxDQUFhLEdBQWI7O0FBRUEsd0JBQUcsZUFBZSxXQUFmLENBQTJCLEdBQTNCLENBQUgsRUFBbUM7QUFDL0I7QUFDQSx1Q0FBZSxlQUFmLENBQStCLEdBQS9COztBQUVBO0FBQ0EsMEJBQUUsb0JBQUYsRUFBd0IsUUFBeEIsQ0FBaUMsZ0JBQWpDO0FBQ0EsbUNBQVcsWUFBVTtBQUNqQiw4QkFBRSxvQkFBRixFQUF3QixXQUF4QixDQUFvQyxnQkFBcEM7QUFDSCx5QkFGRCxFQUVFLElBRkY7QUFHSDtBQUVKO0FBQ0Q7QUFDSDtBQUNKLFNBckdnQjtBQXNHakIsK0JBQXVCLCtCQUFTLENBQVQsRUFBVyxDQUFYLEVBQWE7QUFDaEMsZ0JBQUcsS0FBRyxFQUFILElBQVMsS0FBRyxFQUFmLEVBQWtCO0FBQ2Qsc0JBQU0sdURBQU47QUFDQSx1QkFBTyxLQUFQO0FBQ0gsYUFIRCxNQUdNLElBQUcsSUFBRSxDQUFGLElBQU8sSUFBRSxDQUFaLEVBQWM7QUFDaEIsc0JBQU0sNEJBQU47QUFDQSx1QkFBTyxLQUFQO0FBQ0gsYUFISyxNQUdBLElBQUcsSUFBRSxHQUFMLEVBQVM7QUFDWCxzQkFBTSw0QkFBTjtBQUNBLHVCQUFPLEtBQVA7QUFDSCxhQUhLLE1BR0EsSUFBRyxJQUFFLEdBQUwsRUFBUztBQUNYLHNCQUFNLDZCQUFOO0FBQ0EsdUJBQU8sS0FBUDtBQUNILGFBSEssTUFHQSxJQUFHLEtBQUcsV0FBTixFQUFrQjtBQUNwQixvQkFBSSxTQUFTLFFBQVEsMEdBQVIsQ0FBYjtBQUNBLHVCQUFPLE1BQVA7QUFDSCxhQUhLLE1BR0Q7QUFDRCx1QkFBTyxJQUFQO0FBQ0g7QUFDSixTQXpIZ0I7QUEwSGpCLHFCQUFhLHFCQUFTLEdBQVQsRUFBYTtBQUN0QixtQkFBTyx1cUNBQXNxQyxJQUF0cUMsQ0FBMnFDLEdBQTNxQztBQUFQO0FBQ0gsU0E1SGdCO0FBNkhqQixxQkFBYSxxQkFBUyxDQUFULEVBQVcsQ0FBWCxFQUFhO0FBQ3RCLGdCQUFJLE9BQU8sdUVBQXFFLENBQXJFLEdBQXVFLEdBQXZFLEdBQTJFLENBQTNFLEdBQTZFLG1DQUE3RSxHQUFpSCxDQUFqSCxHQUFtSCxLQUFuSCxHQUF5SCxDQUF6SCxHQUEySCxVQUF0STtBQUNBLGNBQUUsZ0JBQUYsRUFBb0IsTUFBcEIsQ0FBMkIsSUFBM0I7QUFDSCxTQWhJZ0I7QUFpSWpCLHdCQUFnQiwwQkFBVTtBQUN0QixnQkFBSSxpQkFBaUIsSUFBSSxLQUFKLEVBQXJCOztBQUVBLGNBQUUsc0JBQUYsRUFBMEIsSUFBMUIsQ0FBK0IsVUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFhO0FBQ3hDO0FBQ0Esb0JBQUcsRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLHNCQUFiLEVBQXFDLEVBQXJDLENBQXdDLFVBQXhDLENBQUgsRUFBdUQ7QUFDbkQsd0JBQUksT0FBTyxJQUFJLE1BQUosRUFBWDtBQUNBLHdCQUFJLE1BQU0sRUFBRSxJQUFGLEVBQVEsSUFBUixDQUFhLE9BQWIsRUFBc0IsR0FBdEIsRUFBVjtBQUNBLDBCQUFNLElBQUksS0FBSixDQUFVLEdBQVYsQ0FBTjs7QUFFQSx5QkFBSyxLQUFMLEdBQWEsRUFBRSxJQUFGLEVBQVEsSUFBUixFQUFiO0FBQ0EseUJBQUssQ0FBTCxHQUFTLElBQUksQ0FBSixDQUFUO0FBQ0EseUJBQUssQ0FBTCxHQUFTLElBQUksQ0FBSixDQUFUO0FBQ0EseUJBQUssVUFBTCxHQUFrQixDQUFsQjs7QUFFQSxtQ0FBZSxJQUFmLENBQW9CLElBQXBCO0FBQ0g7QUFDSixhQWREO0FBZUEsbUJBQU8sY0FBUDtBQUNILFNBcEpnQjtBQXFKakIseUJBQWlCLHlCQUFTLEdBQVQsRUFBYTtBQUMxQixnQkFBSSxNQUFNLGVBQWUsY0FBZixFQUFWO0FBQ0EsZ0JBQUksU0FBUyxFQUFiO0FBQ0Esc0JBQVUsU0FBTyxtQkFBbUIsR0FBbkIsQ0FBakI7QUFDQSxjQUFFLGtCQUFGLEVBQXNCLE9BQXRCLENBQThCLE1BQTlCLEVBQXNDLFVBQVMsQ0FBVCxFQUFXO0FBQzdDO0FBQ0Esa0JBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxFQUFiO0FBQ0E7QUFDQSxvQkFBSSxPQUFPLElBQUksTUFBZjtBQUNBLHFCQUFJLElBQUksSUFBRSxDQUFWLEVBQVksSUFBRSxJQUFkLEVBQW1CLEdBQW5CLEVBQXVCO0FBQ25CLHdCQUFJLE1BQU0sZUFBZSxjQUFmLEVBQVY7QUFDQSx3QkFBSSxRQUFRLE9BQU8sSUFBSSxDQUFKLEVBQU8sQ0FBZCxJQUFpQixDQUE3QjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLE9BQVosRUFBb0IsS0FBcEIsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLE9BQVosRUFBb0IsSUFBSSxDQUFKLEVBQU8sQ0FBM0IsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLE9BQVosRUFBb0IsSUFBSSxDQUFKLEVBQU8sQ0FBM0IsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLFNBQVosRUFBc0IsR0FBdEIsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLE9BQVosRUFBb0IsSUFBSSxDQUFKLEVBQU8sS0FBM0IsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLE9BQVosRUFBb0IsSUFBSSxDQUFKLEVBQU8sS0FBM0IsQ0FBTjtBQUNBLDBCQUFNLElBQUksT0FBSixDQUFZLFdBQVosRUFBd0Isa0JBQWdCLENBQXhDLENBQU47QUFDQSxzQkFBRSxrQkFBRixFQUFzQixNQUF0QixDQUE2QixHQUE3QjtBQUNBO0FBQ0EsOEJBQVUsVUFBUSxJQUFJLENBQUosRUFBTyxDQUFmLEdBQWlCLEdBQWpCLEdBQXFCLElBQUksQ0FBSixFQUFPLENBQXRDO0FBQ0g7O0FBRUQ7QUFDQSxvQkFBSSxTQUFTLFFBQVQsQ0FBa0IsSUFBbkIsSUFBMEIsRUFBMUIsSUFBZ0MsYUFBVyxJQUE5QyxFQUFtRDtBQUMvQyx1Q0FBbUIsS0FBbkI7QUFDQSxnQ0FBWSxLQUFaO0FBQ0gsaUJBSEQsTUFHSztBQUNELHVDQUFtQixJQUFuQjtBQUNIOztBQUVELG9CQUFHLGdCQUFILEVBQW9CO0FBQ2hCLDBCQUFNLGtEQUFOO0FBQ0g7O0FBRUQ7QUFDQSx5QkFBUyxRQUFULENBQWtCLElBQWxCLEdBQXlCLE1BQXpCO0FBRUgsYUFuQ0QsRUFtQ0csTUFuQ0g7QUFvQ0gsU0E3TGdCO0FBOExqQix3QkFBZ0IsMEJBQVU7QUFDdEIsbUJBQU8sd1lBQVA7QUFDSCxTQWhNZ0I7QUFpTWpCLHdCQUFnQiwwQkFBVTtBQUN0QixnQkFBSSxPQUFKO0FBQ0EsY0FBRSxNQUFGLEVBQVUsTUFBVixDQUFpQixZQUFXO0FBQ3hCLDZCQUFhLE9BQWI7QUFDQSwwQkFBVSxXQUFXLFlBQVU7QUFDM0Isa0NBQWMsRUFBRSxNQUFGLEVBQVUsS0FBVixFQUFkO0FBQ0gsaUJBRlMsRUFFUCxHQUZPLENBQVY7QUFHSCxhQUxEO0FBTUgsU0F6TWdCO0FBME1qQix1QkFBZSx5QkFBVTtBQUNyQixjQUFFLE1BQUYsRUFBVSxNQUFWLENBQWlCLFlBQVk7QUFDekIsb0JBQUksRUFBRSxJQUFGLEVBQVEsU0FBUixLQUFzQixFQUExQixFQUE4QjtBQUMxQixzQkFBRSxjQUFGLEVBQWtCLE1BQWxCO0FBQ0gsaUJBRkQsTUFFTztBQUNILHNCQUFFLGNBQUYsRUFBa0IsT0FBbEI7QUFDSDtBQUNKLGFBTkQ7QUFPQSxjQUFFLGNBQUYsRUFBa0IsS0FBbEIsQ0FBd0IsWUFBWTtBQUNoQyxrQkFBRSxjQUFGLEVBQWtCLE9BQWxCLENBQTBCLE1BQTFCO0FBQ0Esa0JBQUUsV0FBRixFQUFlLE9BQWYsQ0FBdUI7QUFDbkIsK0JBQVc7QUFEUSxpQkFBdkIsRUFFRyxHQUZIO0FBR0EsdUJBQU8sS0FBUDtBQUNILGFBTkQ7QUFPQSxjQUFFLGNBQUYsRUFBa0IsT0FBbEIsQ0FBMEIsTUFBMUI7QUFDSDtBQTFOZ0IsS0FBckI7QUE2TkgsQ0FuUEMsR0FBRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBpbXBvcnQgeyAgfSBmcm9tICcuL21vZHVsZXMvLmpzJztcblxuLy8gbGV0ICQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yLmJpbmQoZG9jdW1lbnQpO1xuXG47KGZ1bmN0aW9uKCl7XG4gICAgXG4gICAgLy9jb250cm9sIHZhcmlhYmxlc1xuICAgIHZhciBmaXJzdExvYWQgPSB0cnVlO1xuICAgIHZhciBzaG93U2hhcmVNZXNzYWdlID0gdHJ1ZTtcblxuICAgIC8vZWxlbWVudHNcbiAgICB2YXIgdXJsRmllbGQgPSAkKCcudXJsLWZpZWxkJyk7XG4gICAgdmFyIGJ0bkNoZWNrID0gJCgnLmJ0bi1jaGVjaycpO1xuICAgIHZhciBidG5BZGQgPSAkKCcuYnRuLWFkZCcpO1xuXG4gICAgLy9lbGVtZW50IGF0dHJpYnV0ZXNcbiAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblxuXG4gICAgJChmdW5jdGlvbigpIHtcblxuICAgICAgICAvL0lOSVRJQUxJWkUgQVBQTElDQUNUSU9OXG4gICAgICAgIHJlc3BvbnNpdmVGbG93LmluaXQoKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIHJlc3BvbnNpdmVGbG93ID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAvL2NoZWNrIGlmIGhhdmUgc29tZXRoaW5nIG9uIHVybFxuICAgICAgICAgICAgcmVzcG9uc2l2ZUZsb3cucGFyc2VVcmwoKTtcblxuICAgICAgICAgICAgLy9pbml0aWFsaXplIHJlc2l6ZSBmdW5jdGlvblxuICAgICAgICAgICAgcmVzcG9uc2l2ZUZsb3cucmVzaXplRnVuY3Rpb24oKTtcblxuICAgICAgICAgICAgLy9jYWxsIGJ1dHRvbiBcImNoZWNrIGl0IG91dFwiXG4gICAgICAgICAgICByZXNwb25zaXZlRmxvdy5idXR0b25DaGVjaygpO1xuXG4gICAgICAgICAgICAvL2NhbGwgYnV0dG9uIFwiYWRkIG5ldyByZXNvbHV0aW9uXCJcbiAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmJ1dHRvbkFkZCgpO1xuXG4gICAgICAgICAgICAvL2NhbGwgYnV0dG9uIFwiZ28gdG8gdG9wXCJcbiAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmJ1dHRvbkdvVG9Ub3AoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9LFxuICAgICAgICBidXR0b25DaGVjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGJ0bkNoZWNrLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHVybEZpZWxkLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgLy92ZXJpZnkgaHR0cHMgbm8gbW9yZSBodHRwIC0gdXJsLmluZGV4T2YoJ2h0dHA6Ly8nKSE9LTEgfHxcbiAgICAgICAgICAgICAgICBpZih1cmwuaW5kZXhPZignaHR0cHM6Ly8nKSE9LTEpe1xuICAgICAgICAgICAgICAgICAgICAvL3ZlcmlmeSBpZiBpdHMgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2l2ZUZsb3cudmFsaWRhdGVVcmwodXJsKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dlbmVyYXRlIGlmcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmdlbmVyYXRlSWZyYW1lcyh1cmwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1RvZ2dsZSBhbmltYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYXBwLWhlYWRlciBoMSBpbWcnKS5hZGRDbGFzcygnaW1hZ2UtYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYXBwLWhlYWRlciBoMSBpbWcnKS5yZW1vdmVDbGFzcygnaW1hZ2UtYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB1cmxcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgYWRkIGh0dHBzIG9uIHlvdXIgdXJsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGJ1dHRvbkFkZDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGJ0bkFkZC5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciB4ID0gJCgnLm5ldy1yZXNvbHV0aW9uLTEnKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICQoJy5uZXctcmVzb2x1dGlvbi0yJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNpdmVGbG93LnZhbGlkYXRlTmV3UmVzb2x1dGlvbih4LHkpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmFkZENoZWNrQm94KHgseSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5uZXctcmVzb2x1dGlvbi0xLCAubmV3LXJlc29sdXRpb24tMicpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBwYXJzZVVybDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vaHR0cDovL2xvY2FsaG9zdDo5MDAwLyN1cmw9aHR0cCUzQSUyRiUyRnB1ZGltLmNvbS5iciZyZXM9MTMwMHg3NjgmcmVzPTEwMjR4NzY4JnJlcz02NDB4NzY4JnJlcz0zMjB4NDgwXG4gICAgICAgICAgICB2YXIgc2VhcmNoICA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTsgLy91cmw9bWluaGF1cmwmcmVzPTEyMzB4MTIzMCZyZXM9MTJ4MTImcmVzPTMweDMwXG4gICAgICAgICAgICBpZihzZWFyY2ghPVwiXCIpe1xuICAgICAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC5zcGxpdCgnJicpO1xuICAgICAgICAgICAgICAgIHZhciBzaXplID0gc2VhcmNoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0ge307XG4gICAgICAgICAgICAgICAgdmFsdWVzLnJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wO3g8c2l6ZTt4Kyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5mID0gc2VhcmNoW3hdLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGluZlswXT09XCJyZXNcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2luc2VydCBpbiByZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5yZXMucHVzaChpbmZbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIG5hIG5ldyBpbmRleCBhbmQgYXR0cmlidXRlIHRoZSB2YWxldVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZlswXV0gPSBpbmZbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNpemVSZXMgPSB2YWx1ZXMucmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAvL3ZlcmlmeSBpZiBoYXZlIGRhdGEgdG8gZ2VuZXJhdGUgaWZyYW1lc1xuICAgICAgICAgICAgICAgIGlmKCh2YWx1ZXMucmVzLmxlbmd0aCk+PTEgJiYgKHZhbHVlcy51cmwpIT1cIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgLy9nZW5lcmF0ZSByZXN1bHV0aW9ucyBieSB1cmxcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNoZWNrYm94LWxpc3QnKS5odG1sKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHk9MDt5PHNpemVSZXM7eSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh2YWx1ZXMucmVzW3ldKS5zcGxpdChcInhcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSB2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmFkZENoZWNrQm94KHcsaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZXMudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsRmllbGQudmFsKHVybCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2l2ZUZsb3cudmFsaWRhdGVVcmwodXJsKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dlbmVyYXRlIGlmcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmVGbG93LmdlbmVyYXRlSWZyYW1lcyh1cmwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1RvZ2dsZSBhbmltYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYXBwLWhlYWRlciBoMSBpbWcnKS5hZGRDbGFzcygnaW1hZ2UtYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYXBwLWhlYWRlciBoMSBpbWcnKS5yZW1vdmVDbGFzcygnaW1hZ2UtYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh2YWx1ZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGVOZXdSZXNvbHV0aW9uOiBmdW5jdGlvbih4LHkpeyAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHg9PVwiXCIgfHwgeT09XCJcIil7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgZmlsbCBhbGwgZmllbGRzLiBNYXJlIHN1cmUgaW5zZXJ0IG9ubHkgbnVtYmVyc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9ZWxzZSBpZih4PDAgfHwgeTwwKXtcbiAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBwdXQgcG9zaXRpdmUgdmFsdWVzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHg8MjgwKXtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBtaW5pbXVtIHdpZHRoIGlzIDI4MHB4XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHk8MTAwKXtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBtaW5pbXVtIGhlaWdodCBpcyAxODBweFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9ZWxzZSBpZih4Pj13aW5kb3dXaWR0aCl7XG4gICAgICAgICAgICAgICAgdmFyIGFuc3dlciA9IGNvbmZpcm0oXCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gYWRkIGEgcmVzb2x1dGlvbiBoaWdodGVyIHRoYW4geW91ciBzY3JlZW4/IFRoaXMgY2FuIHByZWp1ZGljYXRlIHRoZSB2aXN1YWxpemF0aW9uIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5zd2VyO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRlVXJsOiBmdW5jdGlvbih1cmwpe1xuICAgICAgICAgICAgcmV0dXJuIC9eKGh0dHBzP3xmdHApOlxcL1xcLygoKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6KSpAKT8oKChcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkpfCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLj8pKDpcXGQqKT8pKFxcLygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkrKFxcLygoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKSopKik/KT8oXFw/KCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKXxbXFx1RTAwMC1cXHVGOEZGXXxcXC98XFw/KSopPyhcXCMoKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFxcL3xcXD8pKik/JC9pLnRlc3QodXJsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkQ2hlY2tCb3g6IGZ1bmN0aW9uKHgseSl7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IFwiPGxhYmVsIGNsYXNzPSdjaGVja2JveC1pbmxpbmUnPjxpbnB1dCBpZD0naW5saW5lQ2hlY2tib3gxJyB2YWx1ZT0nXCIreCtcInhcIit5K1wiJyBjaGVja2VkPSd0cnVlJyB0eXBlPSdjaGVja2JveCc+XCIreCtcIiB4IFwiK3krXCI8L2xhYmVsPlwiO1xuICAgICAgICAgICAgJCgnLmNoZWNrYm94LWxpc3QnKS5hcHBlbmQoZWxlbSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJlc29sdXRpb25zOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb25zT2JqID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoJy5jaGVja2JveC1saXN0IGxhYmVsJykuZWFjaChmdW5jdGlvbihpLGQpe1xuICAgICAgICAgICAgICAgIC8vOmNoZWNrZWRcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuaXMoJzpjaGVja2VkJykpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICQodGhpcykuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLnNwbGl0KCd4Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZSA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnggPSB2YWxbMF07XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ueSA9IHZhbFsxXTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5wb3Npbml0aWFsID0gaTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb25zT2JqLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNPYmo7XG4gICAgICAgIH0sXG4gICAgICAgIGdlbmVyYXRlSWZyYW1lczogZnVuY3Rpb24odXJsKXtcbiAgICAgICAgICAgIHZhciBvYmogPSByZXNwb25zaXZlRmxvdy5nZXRSZXNvbHV0aW9ucygpO1xuICAgICAgICAgICAgdmFyIHN0clVybCA9IFwiXCI7XG4gICAgICAgICAgICBzdHJVcmwgKz0gXCJ1cmw9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHVybCk7XG4gICAgICAgICAgICAkKCcuYWxsLXJlc29sdXRpb25zJykuZmFkZU91dChcInNsb3dcIiwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgLy9jbGVhblxuICAgICAgICAgICAgICAgICQodGhpcykuaHRtbChcIlwiKTtcbiAgICAgICAgICAgICAgICAvL2dlbmVyYXRlXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSBvYmoubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wO3g8c2l6ZTt4Kyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gcmVzcG9uc2l2ZUZsb3cudGVtcGxhdGVJZnJhbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpemV4ID0gTnVtYmVyKG9ialt4XS54KSsyO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZShcIiN2YWx4XCIsc2l6ZXgpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZShcIiN2YWx4XCIsb2JqW3hdLngpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZShcIiN2YWx5XCIsb2JqW3hdLnkpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZShcIiN2YWx1cmxcIix1cmwpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZShcIiN0ZXh0XCIsb2JqW3hdLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wLnJlcGxhY2UoXCIjdGV4dFwiLG9ialt4XS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5yZXBsYWNlKFwiI2lkLXBhbmVsXCIsXCJwYW5lbC1pZnJhbWUtXCIreCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5hbGwtcmVzb2x1dGlvbnMnKS5hcHBlbmQodG1wKTtcbiAgICAgICAgICAgICAgICAgICAgLy9pbmNyZW1lbnRzIHVybFxuICAgICAgICAgICAgICAgICAgICBzdHJVcmwgKz0gXCImcmVzPVwiK29ialt4XS54K1wieFwiK29ialt4XS55O1xuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgLy9DaGVjayBpZiBpcyB0aGUgZmlyc3QgYWNjZXNzIGFuZCBpZiB0aGUgdXNlciBjYW1lIGZyb20gYSBzaGFyZWQgbGlua1xuICAgICAgICAgICAgICAgIGlmKChkb2N1bWVudC5sb2NhdGlvbi5oYXNoKSE9XCJcIiAmJiBmaXJzdExvYWQ9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICBzaG93U2hhcmVNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzaG93U2hhcmVNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihzaG93U2hhcmVNZXNzYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJTZW5kIHRoZSB1cmwgdG8gc29tZW9uZSB0byBzaGFyZSB5b3VyIHJlc3VsdHMgOilcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgdXJsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IHN0clVybDtcblxuICAgICAgICAgICAgfSkuZmFkZUluKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlSWZyYW1lOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIFwiPGRpdiBzdHlsZT0nbWF4LXdpZHRoOiAjdmFseHB4JyBjbGFzcz0ncGFuZWwgcGFuZWwtZGVmYXVsdCByZXNvbHV0aW9uJyBpZD0nI2lkLXBhbmVsJz48ZGl2IGNsYXNzPSdwYW5lbC1oZWFkaW5nIHRleHQtcmlnaHQnPjxoMyBjbGFzcz0ncGFuZWwtdGl0bGUnPiN0ZXh0PC9oMz48L2Rpdj48ZGl2IGNsYXNzPSdwYW5lbC1ib2R5Jz48aWZyYW1lIHNyYz0nI3ZhbHVybCcgd2lkdGg9JyN2YWx4cHgnIGhlaWdodD0nI3ZhbHlweCcgZnJhbWVib3JkZXI9JzAnPjxwPllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGlmcmFtZXMuPC9wPjwvaWZyYW1lPjwvZGl2PjxkaXYgY2xhc3M9J3BhbmVsLWZvb3Rlcic+PGgzIGNsYXNzPSdwYW5lbC10aXRsZSc+I3RleHQ8L2gzPjwvZGl2PjwvZGl2XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2l6ZUZ1bmN0aW9uOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICB9KTsgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGJ1dHRvbkdvVG9Ub3A6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNiYWNrLXRvLXRvcCcpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNiYWNrLXRvLXRvcCcpLmZhZGVPdXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJyNiYWNrLXRvLXRvcCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKCcjYmFjay10by10b3AnKS50b29sdGlwKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogMFxuICAgICAgICAgICAgICAgIH0sIDgwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcjYmFjay10by10b3AnKS50b29sdGlwKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0oKSk7XG4gICAgXG5cbiJdfQ==\n"]}